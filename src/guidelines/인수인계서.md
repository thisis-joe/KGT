# KGT Solution 웹사이트 인수인계서 (신입 개발자용)

이 문서는 "처음 보는 상태"에서 이 프로젝트를 바로 유지보수/개발할 수 있게 만든 실무 가이드입니다.

## 1) 프로젝트 한 줄 요약
- React + TypeScript + Vite 기반 기업 소개 웹사이트
- 핵심 페이지: 홈(`/`), 문의(`/contact`)
- 문의 폼 제출 시 `/api/contact`로 요청하고, Vite 미들웨어에서 Gmail SMTP로 메일 발송

## 2) 빠른 실행 방법
```bash
npm i
npm run dev
```

- 기본 개발 서버: `http://localhost:3000` (vite.config.ts에서 지정)
- 현재 환경에서 `npm run build` 시 optional dependency(rollup) 오류가 날 수 있음
  - 재설치로 해결: `rm -rf node_modules package-lock.json && npm i`

## 3) 폴더 구조와 역할
```text
src/
  main.tsx                # 앱 진입점
  App.tsx                 # 전역 Provider(i18n) + Router 조립
  routes.tsx              # URL 라우팅 정의
  pages/
    HomePage.tsx          # 홈 페이지 조립
    ContactPage.tsx       # 문의 페이지(폼 + 제출 로직)
  components/
    Header.tsx            # 상단 네비 + 언어 선택
    Hero.tsx              # 메인 히어로 섹션
    CompanyOverview.tsx   # 회사 소개 섹션
    BusinessPortfolio.tsx # 사업 포트폴리오 섹션
    StoreSection.tsx      # 스토어 CTA 섹션
    Footer.tsx            # 푸터
    ScrollReveal.tsx      # 스크롤 등장 애니메이션 래퍼
    ScrollToTop.tsx       # 우하단 "맨 위로" 버튼
  locales/
    ko.ts, en.ts ...      # 언어별 번역 데이터
  utils/
    i18n.ts               # 번역 Context, 언어 상태 저장(localStorage)
  services/
    api.ts                # 프론트 API 요청 래퍼(fetch)
  styles/
    globals.css           # 전역 스타일, 컬러 토큰, 다크 변수
```

## 4) 실행 흐름 (꼭 외우기)
1. `src/main.tsx`
   - React 루트를 생성하고 `App` 렌더
2. `src/App.tsx`
   - `TranslationProvider`로 전체 앱 감쌈
   - `RouterProvider`로 라우팅 활성화
3. `src/routes.tsx`
   - `/` -> `HomePage`
   - `/contact` -> `ContactPage`
4. `src/pages/HomePage.tsx`
   - `Header -> Hero -> (Company/Business/Store) -> Footer`
5. `src/pages/ContactPage.tsx`
   - 폼 상태 관리 -> `api.contact.submit()` 호출
6. `src/services/api.ts`
   - `/api/contact`로 POST
7. `vite.config.ts`
   - `createContactApiPlugin()` 미들웨어가 요청 받아 nodemailer로 메일 발송

## 5) "어디를 수정하면 뭐가 바뀌는지" 지도

### A. 메뉴/헤더/언어 드롭다운
- 파일: `src/components/Header.tsx`
- 수정 포인트:
  - 메뉴 라벨/구성
  - 언어 선택 UI
  - 문의 버튼 라우팅

### B. 메인 첫 화면 문구/버튼
- 파일: `src/components/Hero.tsx`
- 수정 포인트:
  - 타이틀, 서브타이틀, CTA 문구
  - 배경 이미지

### C. 회사/사업/스토어 섹션 내용
- 파일:
  - `src/components/CompanyOverview.tsx`
  - `src/components/BusinessPortfolio.tsx`
  - `src/components/StoreSection.tsx`

### D. 문의 폼/검증/성공실패 처리
- 파일: `src/pages/ContactPage.tsx`
- 수정 포인트:
  - 필드 구성(name/company/replyEmail/senderEmail/subject/message/privacy)
  - 제출 전 검증
  - 성공/실패 메시지
  - 실패 시 mailto fallback
  - 지도 provider 선택(Naver/Kakao, 기본 Naver)
  - 지도 SDK 로딩 실패 시 외부 지도 열기 fallback

### E. 번역 문구
- 파일: `src/locales/*.ts`
- 주의:
  - 키 구조가 언어별로 동일해야 함
  - 새 키 추가 시 모든 언어 파일에 동시 반영

### F. 스타일/브랜드 컬러/다크 테마
- 파일: `src/styles/globals.css`
- 수정 포인트:
  - CSS 변수(`--kgt-yellow`, `--kgt-black` 등)
  - `.dark` 변수

### G. API 통신 로직(프론트)
- 파일: `src/services/api.ts`
- 수정 포인트:
  - API base URL
  - 요청 body/응답 처리/에러 메시지

### H. 메일 발송(서버 역할)
- 파일: `vite.config.ts`
- 수정 포인트:
  - `.env` 기반 MAIL_* 설정
  - `/api/contact` 요청 파싱/검증/전송
  - Reply Email / Sender Email 본문 포함

## 6) 다국어(i18n) 구조 설명
- `TranslationProvider`가 현재 언어 상태를 관리
- `useTranslation()`으로 `t('키')` 사용
- 선택 언어는 `localStorage.language`에 저장됨
- 초기 언어는 기본 `ko`

실무 팁:
- 문구 변경은 컴포넌트 하드코딩보다 locale 키 방식 권장
- 문의 페이지(`ContactPage.tsx`)는 아직 하드코딩 영어 문구가 많아 우선 정리 대상

## 7) 문의 폼 동작 상세
1. 사용자가 폼 입력
2. 개인정보 동의(`privacy`) 미체크면 제출 차단
3. `api.contact.submit()` 호출
4. 성공 시 성공 메시지 + 폼 초기화
5. 실패 시 mailto 링크 생성 후 사용자 이메일 클라이언트 유도

## 8) 현재 기술 부채 / 리스크 (중요)

### 1. 보안 이슈 (최우선)
- 메일 관련 설정은 모두 `.env`로 분리 완료
  - `MAIL_GMAIL_USER`
  - `MAIL_GMAIL_APP_PASSWORD`
  - `MAIL_RECEIVER_EMAILS`
  - `VITE_CONTACT_RECEIVER_EMAIL`
  - `VITE_NAVER_MAP_CLIENT_ID`
  - `VITE_KAKAO_MAP_APP_KEY`
- 주의:
  - `.env`는 커밋 금지
  - `.env.example`만 기준 템플릿으로 유지

### 2. 정리 완료된 항목
- 미사용 컴포넌트(`ui/*`, `ProductGallery.tsx`, `StatsSection.tsx`)는 제거 완료
- 현재는 실제 화면 사용 코드 중심으로 유지 중

### 3. package script 이상
- 현재 `"start": "vite start"`는 일반적이지 않음
- 권장:
  - `"preview": "vite preview"`로 분리

### 4. 남은 개선 과제
- 다국어 번역 문구 품질 개선(현재 일부 언어는 ContactPage 신규 키가 영어 기본값)
- 테스트/CI 파이프라인 부재

## 9) 신입 개발자 1주 온보딩 체크리스트

### Day 1
- 프로젝트 실행 성공 (`npm i`, `npm run dev`)
- 라우팅 구조 파악 (`main -> App -> routes`)
- 홈/문의 페이지 각각 화면 요소 확인

### Day 2
- 문의 폼 제출 플로우 로컬 검증
- 성공/실패/개인정보 미동의 케이스 테스트
- 메일 전송 로그 확인

### Day 3
- i18n 구조 이해 및 문구 1~2개 수정 실습
- 언어 전환 시 반영 확인

### Day 4
- 디자인 수정 실습(헤더/히어로/푸터 중 1개)
- 모바일 반응형 확인

### Day 5
- 보안 개선:
  - MAIL_CONFIG 환경변수 분리
  - 민감정보 제거

## 10) 실제 개발 시작 우선순위 (추천)
1. ContactPage 신규 키의 다국어 번역 품질 고도화
2. 테스트 코드/자동 점검 파이프라인 추가
3. 배포 환경 기준 `.env` 관리 체계 확정

## 11) 자주 헷갈리는 포인트
- `src/index.css`는 생성된 Tailwind 결과물 성격이 강하고 매우 큼
  - 실제 커스텀은 `src/styles/globals.css` 중심으로 보는 게 효율적
- `dist/`, `build/` 폴더는 산출물
  - 직접 수정하지 말고 `src/`를 수정해야 함
- 홈 내 메뉴 이동은 라우팅이 아니라 앵커(`#company`, `#products`, `#store`)
- Contact 페이지 모바일에서는 문의 폼이 지도/주소 블록보다 먼저 노출되도록 정렬되어 있음
- Footer의 Privacy Policy / Terms of Service는 링크 이동이 아니라 팝업 방식
- 기능 건의는 Footer의 `Send Feature Suggestion` 버튼 팝업을 통해 개발자 메일로 전송
- Footer 소셜 링크(LinkedIn/Twitter/Facebook/YouTube)는 제거하지 않고 주석으로 보관 중

## 12) 인수인계 후 첫 작업 권장 과제
- 과제: "문의 페이지 다국어화 + 메일 설정 환경변수화"
- 산출물:
  - locale 키 추가/정리
  - ContactPage 하드코딩 문자열 제거
  - vite.config.ts에서 환경변수 사용
  - README에 설정 방법 추가
